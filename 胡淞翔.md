<!doctype html><div class="lake-content" typography="classic"><p id="ud21fa6b6" class="ne-p"><br></p><h3 id="UiD4p"><span class="ne-text">å¿…åšä»»åŠ¡1</span></h3><p id="uc3a9ff97" class="ne-p"><span class="ne-text">æˆ‘çš„æ€è·¯æ˜¯ï¼š</span></p><p id="u1310c780" class="ne-p"><span class="ne-text">é¦–å…ˆæ˜¯ç¡®è®¤è‡ªå·±å¯¹äºè¿™ä¸ªé—®é¢˜çš„å®šä½ï¼Œæ˜¯ä¿¡æ¯ç®€è®¯ï¼Œè¿˜æ˜¯çŸ¥è¯†æŠ€èƒ½ç­‰ï¼Œç´§æ¥ç€è¦ææ¸…æ¥šè‡ªå·±æ˜¯è¦å­¦ä¼šè¿˜æ˜¯ç®€å•äº†è§£ï¼Œå¦‚æœæ˜¯ç®€å•äº†è§£å¯èƒ½ä¼šå»æœç´¢å¼•æ“çš„ç™¾ç§‘æˆ–è€…é—®llmæ¥è·å–ï¼Œå¦‚æœæ˜¯æ·±åº¦å­¦ä¹ å¯èƒ½å°±ä¼šå»æ‰¾åˆ°è¯¥å¯èƒ½å­˜åœ¨è¯¥é—®é¢˜ä¸“ä¸šå›ç­”çš„ç½‘ç«™ï¼Œåˆ©ç”¨æ£€ç´¢çš„ä¸€äº›å°æŠ€å·§æ¥ç²¾å‡†å®šä½è‡ªå·±æƒ³è¦çš„ç»“æœã€‚å¾®ä¿¡å…¬ä¼—å·è¿˜çœŸæ²¡æ€ä¹ˆç”¨è¿‡ï¼Œä»¥åå¯ä»¥è¯•è¯•ã€‚</span></p><p id="ue87cc58e" class="ne-p"><span class="ne-text">ä¸è¿‡è‡ªå·±ä¹‹å‰ä¸€ç›´ä¾èµ–çŸ­è§†é¢‘å¹³å°æ¥è·å–çŸ¥è¯†ï¼Œåƒåœ¾å†…å®¹æŠ•æ”¾å¾ˆå¤šï¼Œç°åœ¨æ„Ÿè§‰è¿˜æ˜¯è¦å¤šå¤šåˆ©ç”¨æœç´¢å¼•æ“ã€‚</span></p><p id="ue60a1663" class="ne-p"><br></p><p id="u42edf498" class="ne-p"><span class="ne-text"></span></p><p id="u6dad6e39" class="ne-p"><span class="ne-text"></span></p><p id="u85b4348b" class="ne-p"><span class="ne-text">ä»»åŠ¡è€—æ—¶ï¼š40åˆ†é’Ÿï¼ˆåŒ…æ‹¬å€é€Ÿçœ‹è§†é¢‘ï¼‰</span></p><h3 id="EW4OH"><span class="ne-text">å¿…åšä»»åŠ¡2</span></h3><p id="u0522d62b" class="ne-p"><span class="ne-text">æˆ‘çš„æ„Ÿå—ï¼šè¿˜æ˜¯è¦å¤šç»ƒï¼Œä¸‰åˆ†çœ‹ä¸ƒåˆ†ç»ƒè¿™ä¸ªå¾ˆé‡è¦ï¼Œå¹¶ä¸”è¦æœ‰å…ˆæ€è€ƒå†å¯»æ‰¾ç­”æ¡ˆçš„è¿‡ç¨‹ï¼Œæ„Ÿè§‰ä¸Šå¤§å­¦åè‡ªå·±ä¸å¤ªæƒ³å»åŠ¨è„‘æ€è€ƒé—®é¢˜äº†ï¼Œæœ‰æ—¶å€™åšé¢˜ç›®ç›´æ¥é€‰æ‹©æœç­”æ¡ˆã€‚</span></p><p id="uf43d8026" class="ne-p"><span class="ne-text">å¦å¤–æ„Ÿè§‰æœ‰ä¸€ä¸ªä¸€èµ·å­¦ç¼–ç¨‹çš„æ­å­å¾ˆé‡è¦ï¼›ä¸¤ä¸ªäººæ¯å‘¨å®Œæˆç›¸åŒçš„ä»»åŠ¡åè¿›è¡Œè®¨è®ºåˆ†æï¼Œåˆ†äº«è‡ªå·±çš„çœ‹æ³•æˆ–è€…ä¸€èµ·debugï¼Œäº’ç›¸ä¿ƒè¿›å­¦ä¹ ï¼Œå¯¹äºæˆ‘è¿™ç§æåº¦ä¸è‡ªå¾‹çš„äººæ¥è¯´å¾ˆé‡è¦</span><span class="ne-text">ğŸ˜”</span></p><p id="u7d37799f" class="ne-p"><span class="ne-text"></span></p><p id="uc57426bd" class="ne-p"><span class="ne-text"></span></p><p id="u34e4c43f" class="ne-p"><span class="ne-text"></span></p><p id="u4c8bcafe" class="ne-p"><span class="ne-text">ä»»åŠ¡è€—æ—¶ï¼š20åˆ†é’Ÿ</span></p><h3 id="UDYiT"><span class="ne-text">å¿…åšä»»åŠ¡3</span></h3><p id="u29172084" class="ne-p"><span class="ne-text">æˆ‘çš„æ„Ÿå—æ˜¯ï¼š</span><span class="ne-text">æˆ‘çš„æ„Ÿå—æ˜¯ï¼šä¸ªäººè®¤ä¸ºå­¦å¥½ç¼–ç¨‹çš„å¾ˆé‡è¦çš„ä¸€ç‚¹æ˜¯å†…é©±åŠ›ã€‚å†…å¿ƒçœŸæ­£æ„¿æ„å»åšè¿™ä»¶äº‹ï¼Œæ–¹æ³•å•¥çš„éƒ½æ˜¯æ¬¡è¦çš„ã€‚ä½†æ˜¯å†…é©±åŠ›çš„å»ºç«‹æ„Ÿè§‰å¯¹æˆ‘æ¥è¯´æœ‰ç‚¹å›°éš¾ï¼Œå°±æ˜¯æˆ‘æ„Ÿè§‰ç¼–ç¨‹æ˜¯ä¸€ä¸ªé•¿æœŸæ”¶ç›Šçš„ä¸œè¥¿ï¼Œå®ƒå¾ˆéš¾è®©ä½ äº§ç”Ÿç»§ç»­å­¦ä¹ å»æ¢ç´¢çš„æ¬²æœ›ï¼Œæ¯æ¬¡æ‰“å¼€pycharméƒ½ä¸çŸ¥é“è¯¥å¹²å•¥/(ã„’oã„’)/~~</span></p><p id="ue066e973" class="ne-p"><span class="ne-text">è§£å†³çš„åŠæ³•  æˆ‘æ„Ÿè§‰å°±æ˜¯è¦ä»¥ä¸€ä¸ªä¸ªå°ç›®æ ‡æˆ–è€…å°ä»»åŠ¡ä¸ºå¯¼å‘ï¼Œè¿™ä¸ªæˆ‘è¿˜æ²¡çœ‹åˆ°åˆé€‚çš„ç½‘ç«™æœ‰è¿™ä¸ªä¸œè¥¿ï¼Œå°±æ˜¯å‘å¸ƒè¯¦ç»†çš„ä»»åŠ¡ï¼Œéš¾åº¦é€æ¸é€’å¢çš„é‚£ç§ï¼Œç„¶åè®©è‡ªå·±åœ¨å®Œæˆè¿™äº›ä»»åŠ¡çš„è¿‡ç¨‹ä¸­ä½“ä¼šåˆ°ç¼–ç¨‹è¯­è¨€æ˜¯å¦‚ä½•ç”¨äºå®è·µçš„ã€‚</span></p><p id="u6836235d" class="ne-p"><span class="ne-text"></span></p><p id="u8a9ee826" class="ne-p"><span class="ne-text"></span></p><p id="uf3a67847" class="ne-p"><span class="ne-text"></span></p><p id="ue68920e8" class="ne-p"><span class="ne-text">ä»»åŠ¡è€—æ—¶ï¼š15åˆ†é’Ÿ</span></p><h3 id="boDqP"><span class="ne-text">å¿…åšä»»åŠ¡4</span></h3><p id="u2be66e5f" class="ne-p"><span class="ne-text">æˆ‘å­¦ä¹ äº†ï¼š</span></p><p id="u4d2adcf0" class="ne-p"><span class="ne-text">å¦‚ä½•å°†è·å¾—çš„æ•°æ®å¯¼å…¥csvæ–‡ä»¶ä¸­</span></p><p id="u9b19e16e" class="ne-p"><span class="ne-text">ä¸ºä»€ä¹ˆæœ‰çš„æ¨¡æ‹Ÿæµè§ˆå™¨ä¼šè¢«æ‹’ç»è®¿é—®ï¼ˆæœªè§£å†³ï¼‰</span></p><p id="uf4f41c6d" class="ne-p"><span class="ne-text"></span></p><p id="uaf440b5e" class="ne-p"><span class="ne-text"></span></p><p id="u9744044b" class="ne-p"><span class="ne-text"></span></p><p id="u829218a1" class="ne-p"><span class="ne-text">ä»»åŠ¡è€—æ—¶ï¼š60åˆ†é’Ÿï¼ˆçœ‹ä»£ç èŠ±äº†å¾ˆä¹…ï¼Œä½†æœ€ç»ˆä¹Ÿæ²¡ææ‡‚ï¼‰</span></p><h3 id="eTKut"><span class="ne-text">åˆ†æ”¯ä»»åŠ¡ï¼š</span></h3><h4 id="zivjw"><span class="ne-text">æˆ‘é€‰æ‹©å®Œæˆï¼š</span></h4><article class="lake-columns" style="display: flex"><article class="lake-column-item" style="flex: 0.33333333000000004"><ul class="ne-tl"><li id="uc4310cb5" data-lake-index-type="0"><input type="checkbox"><span class="ne-text">åˆ†æ”¯ä»»åŠ¡1</span></li><li id="u3a738b00" data-lake-index-type="0"><input type="checkbox"><span class="ne-text">åˆ†æ”¯ä»»åŠ¡2</span></li></ul></article><article class="lake-column-item" style="flex: 0.33333333000000004"><ul class="ne-tl"><li checked="true" id="u4dfcf3ee" data-lake-index-type="0"><input type="checkbox" checked="true"><span class="ne-text">åˆ†æ”¯ä»»åŠ¡3</span></li><li id="ub67fd927" data-lake-index-type="0"><input type="checkbox"><span class="ne-text">åˆ†æ”¯ä»»åŠ¡4</span></li></ul></article><article class="lake-column-item" style="flex: 0.33333333000000004"><ul class="ne-tl"><li id="u566fa63f" data-lake-index-type="0"><input type="checkbox"><span class="ne-text">åˆ†æ”¯ä»»åŠ¡5</span></li><li id="ud8d6b74f" data-lake-index-type="0"><input type="checkbox"><span class="ne-text">åˆ†æ”¯ä»»åŠ¡6</span></li></ul></article></article><h4 id="nr7EL"><span class="ne-text">ä»»åŠ¡æ–‡æ¡£ï¼š</span></h4><pre data-language="shell" id="cZk7G" class="ne-codeblock language-shell"><code># å¯¼å…¥æ¨¡å—ï¼ˆéœ€è¦çš„åº“ï¼‰
import requests
from lxml import etree
import csv

# è¯·æ±‚å¤´ä¿¡æ¯ï¼ˆæ¨¡æ‹Ÿæµè§ˆå™¨ï¼‰
headers = {
    'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36'
}

moive_list = []
#çˆ¬å–è¿‡ç¨‹
for page in range(1, 11):
    # ç›®æ ‡url
    url = f'https://movie.douban.com/top250?start={(page - 1) * 25}&amp;filter='

    # å‘é€è¯·æ±‚, è·å–å“åº”
    res = requests.get(url, headers=headers)
    # æ‰“å°å“åº”ä¿¡æ¯
    # print(res.text)
    # ç½‘é¡µæºç 
    html = res.text
    # å®ä¾‹åŒ–etreeå¯¹è±¡
    tree = etree.HTML(html)

    divs = tree.xpath('//div[@class=&quot;info&quot;]')
    # print(divs)
    for div in divs:
        dic = {}
        title = div.xpath('./div[@class=&quot;hd&quot;]/a/span[@class=&quot;title&quot;]/text()')
        # ç”µå½±ä¸­æ–‡æ ‡é¢˜
        title_cn = ''.join(title).split('\xa0/\xa0')[0]
        dic['ç”µå½±ä¸­æ–‡å'] = title_cn
        # ç”µå½±è‹±æ–‡æ ‡é¢˜
        title_en = div.xpath('./div[@class=&quot;hd&quot;]/a/span[2]/text()')[0].strip('\xa0/\xa0')
        dic['ç”µå½±è‹±æ–‡å'] = title_en
        # ç”µå½±è¯¦æƒ…é¡µé“¾æ¥
        links = div.xpath('./div[@class=&quot;hd&quot;]/a/@href')[0]
        dic['ç”µå½±è¯¦æƒ…é¡µé“¾æ¥'] = links
        # print(links)
        # å¯¼æ¼”
        director = div.xpath('./div[@class=&quot;bd&quot;]/p/text()')[0].strip().split('å¯¼æ¼”: ')[1].split('ä¸»æ¼”: ')[0]
        dic['å¯¼æ¼”'] = director
        # print(director)
        # ä¸»æ¼”
        try:
            act = div.xpath('./div[@class=&quot;bd&quot;]/p/text()')[0].strip().split('å¯¼æ¼”: ')[1].split('ä¸»æ¼”: ')[1]
            # print(act)
        except IndexError as e:
            print(end='')
        dic['ä¸»æ¼”'] = act
        # ä¸Šæ˜ å¹´ä»½
        Release_year = div.xpath('./div[@class=&quot;bd&quot;]/p/text()')[1].strip().split('/')[0]
        # print(Release_year)
        dic['ä¸Šæ˜ å¹´ä»½'] = Release_year
        # print(Release_year)
        # å›½ç±
        nationality = div.xpath('./div[@class=&quot;bd&quot;]/p/text()')[1].strip().split('/')[1].strip()
        if len(nationality[0].encode('utf-8')) == 1:
            nationality = div.xpath('./div[@class=&quot;bd&quot;]/p/text()')[1].strip().split('/')[2].strip()
        else:
            nationality = div.xpath('./div[@class=&quot;bd&quot;]/p/text()')[1].strip().split('/')[1].strip()
        # print(nationality)
        dic['å›½ç±'] = nationality
        # print(title_cn, nationality)
        # ç±»å‹
        genre = div.xpath('./div[@class=&quot;bd&quot;]/p/text()')[1].strip().split('/')[2].strip()
        if len(div.xpath('./div[@class=&quot;bd&quot;]/p/text()')[1].strip().split('/')[1].strip()[0].encode('utf-8')) == 1:
            genre = div.xpath('./div[@class=&quot;bd&quot;]/p/text()')[1].strip().split('/')[3].strip()
        else:
            genre = div.xpath('./div[@class=&quot;bd&quot;]/p/text()')[1].strip().split('/')[2].strip()
        dic['ç±»å‹'] = genre
        # print(genre)
        # è¯„åˆ†
        score = div.xpath('./div[@class=&quot;bd&quot;]/div/span[2]/text()')[0]
        dic['è¯„åˆ†'] = score
        # print(score)
        # è¯„åˆ†äººæ•°
        num_score = div.xpath('./div[@class=&quot;bd&quot;]/div/span[4]/text()')[0]
        dic['è¯„åˆ†äººæ•°'] = num_score
        # print(dic)
        moive_list.append(dic)
        # print(len(moive_list))  # æ£€æŸ¥æ•°æ®æ˜¯å¦å…¨éƒ¨çˆ¬å–æˆåŠŸ
    print(f'----------------------ç¬¬{page}é¡µçˆ¬å–å®Œæˆ--------------------------------------')
print('-----------------------çˆ¬è™«ç»“æŸ-------------------------------')
# æ•°æ®ä¿å­˜ï¼ˆå­˜è¿›csvæ–‡ä»¶ä¸­ï¼Œå¯ä»¥ç”¨excelæ‰“å¼€ï¼‰
with open('è±†ç“£ç”µå½±Top250.csv', 'w', encoding='utf-8-sig', newline='') as f:
    # 1. åˆ›å»ºå¯¹è±¡
    writer = csv.DictWriter(f, fieldnames=('ç”µå½±ä¸­æ–‡å', 'ç”µå½±è‹±æ–‡å', 'ç”µå½±è¯¦æƒ…é¡µé“¾æ¥', 'å¯¼æ¼”', 'ä¸»æ¼”', 'ä¸Šæ˜ å¹´ä»½', 'å›½ç±', 'ç±»å‹', 'è¯„åˆ†', 'è¯„åˆ†äººæ•°'))
    # 2. å†™å…¥è¡¨å¤´
    writer.writeheader()
    # 3. å†™å…¥æ•°æ®
    writer.writerows(moive_list)</code></pre><p id="u1741c20f" class="ne-p"><br></p><h4 id="leXWt"><span class="ne-text">ä»»åŠ¡è€—æ—¶ï¼š</span></h4><p id="ue64f08cd" class="ne-p"><span class="ne-text">50åˆ†é’Ÿï¼ˆä¸»è¦æ˜¯åœ¨æ‰¾ä»£ç ä¸­æµªè´¹ï¼Œæ‰¾åˆ°çš„å¾ˆå¤šä»£ç éƒ½è¿è¡Œå¤±è´¥äº†ï¼Œè¦ä¹ˆæ˜¯æ²¡æŠ“å–æˆåŠŸï¼Œè¦ä¹ˆæ˜¯æ²¡æœ‰è¿è¡Œï¼Œå·²çŸ¥çš„é—®é¢˜å°±æ˜¯æœ‰å¯èƒ½æ¨¡æ‹Ÿæµè§ˆå™¨è¢«æ‹’ç»è®¿é—®ï¼Œæˆ–è€…ï¼‰</span></p><h3 id="fHddQ"><span class="ne-text">æœ¬å‘¨æ´»åŠ¨æƒ…ç»ªåé¦ˆ</span></h3><p id="u822f919e" class="ne-p"><span class="ne-text">å‘¨å…­æ—©ä¸Šè¿˜æœ‰è€ƒè¯•ï¼Œæ²¡æœ‰å……è¶³æ—¶é—´å­¦ä¹ ï¼Œ</span></p><p id="u82bbb9cf" class="ne-p"><span class="ne-text">æˆ‘è½æ³ªï¼Œæƒ…ç»ªé›¶ç¢</span><span class="ne-text">ğŸ˜Ÿ</span></p><p id="uee7ff3f6" class="ne-p"><span class="ne-text"></span></p><p id="uf856d2e3" class="ne-p"><br></p><p id="u1b2133cd" class="ne-p"><br></p></div>